{"ast":null,"code":"import _defineProperty from\"/Users/meiliizzsuju/Documents/shippit/finding-falcone2/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/meiliizzsuju/Documents/shippit/finding-falcone2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/meiliizzsuju/Documents/shippit/finding-falcone2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/meiliizzsuju/Documents/shippit/finding-falcone2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/meiliizzsuju/Documents/shippit/finding-falcone2/node_modules/@babel/runtime/regenerator/index.js\";import $ from'jquery';import React,{useState,useEffect}from'react';import logo from'./logo.svg';import'./App.scss';import PlanetDropdown from'./components/PlanetDropdown';import Calulate from'./components/Calculate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),planets=_useState2[0],setPlanet=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),vehicles=_useState4[0],setVehicle=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),selectedPlanet=_useState6[0],setSelectedPlanet=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),selectedVehicle=_useState8[0],setSelectedVehicle=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),vehicleByDestination=_useState10[0],setVehicleByDestination=_useState10[1];var _useState11=useState('start'),_useState12=_slicedToArray(_useState11,2),submitStatus=_useState12[0],setSubmitStatus=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),finalTime=_useState14[0],setFinaltime=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),planetFound=_useState16[0],setPlanetFound=_useState16[1];var planetURL='https://5f5ff7f790cf8d00165573ed.mockapi.io/planets';var vehicleURL='https://5f5ff7f790cf8d00165573ed.mockapi.io/vehicles';var successMSG='Success! Congrats on Finding Falcone. King Shan is mighty pleased.';useEffect(function(){var getPlanets=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var dataPlanet;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchData(planetURL);case 2:dataPlanet=_context.sent;console.log(dataPlanet);setPlanet(dataPlanet);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getPlanets(){return _ref.apply(this,arguments);};}();var getVehicles=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var dataVehicle,vList;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchData(vehicleURL);case 2:dataVehicle=_context2.sent;vList=filterVihicle(dataVehicle);setVehicle(vList);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function getVehicles(){return _ref2.apply(this,arguments);};}();var createVehicleByDestinationList=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var data,VbyDdata,VbyD;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetchData(vehicleURL);case 2:data=_context3.sent;VbyDdata=filterVihicle(data);VbyD=[{desno:'destination_1',data:{VbyDdata:VbyDdata}},{desno:'destination_2',data:{VbyDdata:VbyDdata}},{desno:'destination_3',data:{VbyDdata:VbyDdata}},{desno:'destination_4',data:{VbyDdata:VbyDdata}}];setVehicleByDestination(VbyD);case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function createVehicleByDestinationList(){return _ref3.apply(this,arguments);};}();getPlanets();getVehicles();createVehicleByDestinationList();console.log('start');},[]);// Fetch data from url\nvar fetchData=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(url){var response,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(url);case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:data=_context4.sent;return _context4.abrupt(\"return\",data);case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function fetchData(_x){return _ref4.apply(this,arguments);};}();// filter option from dropdown\nvar getFilteredPlanets=function getFilteredPlanets(name){var removedItems=_objectSpread({},selectedPlanet);delete removedItems[name];var removedItemsList=Object.values(removedItems);return planets.filter(function(item){return!removedItemsList.includes(item.name);});};var filterVihicle=function filterVihicle(list){var finalList=[];list.forEach(function(v){var name=v.name;if(name.indexOf('NaN')<=0){finalList.push(v);}});return finalList;};var getPlanet=function getPlanet(name){return selectedPlanet[name];};var onSubmit=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(e){var planet_names,vehicle_names,res,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:planet_names=Object.values(selectedPlanet);vehicle_names=Object.values(selectedVehicle);e.preventDefault();_context5.next=5;return fetch(\"https://5f5ff7f790cf8d00165573ed.mockapi.io/find\",{method:'POST',headers:{'Content-type':'application/json'},body:JSON.stringify({planet_names:planet_names,vehicle_names:vehicle_names})});case 5:res=_context5.sent;_context5.next=8;return res.json();case 8:data=_context5.sent;// if success\nif(data.status==='success'){setSubmitStatus(data.status);setPlanetFound(data.planet_name);}console.log(\"onSubmit\");console.log(planet_names);console.log(vehicle_names);console.log(data);console.log(\"submitStatus\");console.log(submitStatus);case 16:case\"end\":return _context5.stop();}}},_callee5);}));return function onSubmit(_x2){return _ref5.apply(this,arguments);};}();var revealSpaceOptions=function revealSpaceOptions(containerID,e){var dataEle='[data-destination-container]';var dataradioWrapper='[data-radio-wrapper]';var thisContainer=$(e).closest(dataEle);var thisradio=thisContainer.children(dataradioWrapper);thisradio.addClass('reveal');};// on select show the next box\nvar revealnextBox=function revealnextBox(containerID,e){var dataEle='[data-destination-container]';var thisContainer=$(e).closest(dataEle);var nextContainer=thisContainer.next(dataEle);// adding reveal class to the box next to selected box\nnextContainer.addClass('reveal');};var selectItem=function selectItem(containerID,value){console.log(\"selectItem : \"+containerID+\" and \"+value);setSelectedPlanet(_objectSpread(_objectSpread({},selectedPlanet),{},_defineProperty({},containerID,value)));};var selectVehicle=function selectVehicle(containerID,value,e){console.log('selectVehicle : '+containerID+' : '+value);setSelectedVehicle(_objectSpread(_objectSpread({},selectedVehicle),{},_defineProperty({},containerID,value)));};var onSelectedVehicle=function onSelectedVehicle(){console.log('findAvialShip');};var onReset=function onReset(){window.location.reload(false);// setPlanet([])\n// setVehicle([])\n// setSelectedPlanet([])\n// setSelectedVehicle([])\n// setVehicleByDestination([])\n/*\n    setSelectedPlanet('');\n    setSelectedVehicle('');\n\n    // hide all the boxes \n    let dataradioWrapper = $('[data-radio-wrapper]');\n    let destinationWrapper = $('[data-destination-container]');\n    dataradioWrapper.removeClass('reveal');\n    destinationWrapper.not('[data-destination-container]:first-child').removeClass('reveal');\n\n\n\n    // clear dropdowns\n    let dropdowns = destinationWrapper.find('.dropdown');\n    console.log(\"dropdowns\")\n    console.log(dropdowns)\n    $('[data-destination-container] .dropdown').selectedIndex = 0;\n    */};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Finding Falcone\"}),/*#__PURE__*/_jsx(\"div\",{className:\"top-nav\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onReset,children:\"reset\"})})]}),submitStatus!=='success'?planets.length>0&&vehicles.length>0&&vehicleByDestination.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"missioncontroll\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Select planets you want to search in:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"missioncontroll_container\",children:/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(PlanetDropdown,{name:\"destination_1\",vehicles:vehicles,selectedVehicle:selectedVehicle,selectVehicle:selectVehicle,VbyD:vehicleByDestination,setVbyD:setVehicleByDestination,planets:getFilteredPlanets('destination_1'),value:getPlanet('destination_1'),dropdownId:\"destination_1\",revealnextBox:revealnextBox,revealSpaceOptions:revealSpaceOptions,allplanets:planets,selectItem:selectItem,id:\"1\",reveal:true// show first box on load\n}),/*#__PURE__*/_jsx(PlanetDropdown,{name:\"destination_2\",vehicles:vehicles,selectedVehicle:selectedVehicle,selectVehicle:selectVehicle,VbyD:vehicleByDestination,setVbyD:setVehicleByDestination,planets:getFilteredPlanets('destination_2'),value:getPlanet('destination_2'),dropdownId:\"destination_2\",revealnextBox:revealnextBox,revealSpaceOptions:revealSpaceOptions,allplanets:planets,selectItem:selectItem,id:\"2\"}),/*#__PURE__*/_jsx(PlanetDropdown,{name:\"destination_3\",vehicles:vehicles,vehiclesAvail:vehicles,selectedVehicle:selectedVehicle,selectVehicle:selectVehicle,VbyD:vehicleByDestination,setVbyD:setVehicleByDestination,planets:getFilteredPlanets('destination_3'),value:getPlanet('destination_3'),dropdownId:\"destination_3\",revealnextBox:revealnextBox,revealSpaceOptions:revealSpaceOptions,allplanets:planets,selectItem:selectItem,id:\"3\"}),/*#__PURE__*/_jsx(PlanetDropdown,{name:\"destination_4\",vehicles:vehicles,selectedVehicle:selectedVehicle,selectVehicle:selectVehicle,VbyD:vehicleByDestination,setVbyD:setVehicleByDestination,planets:getFilteredPlanets('destination_4'),value:getPlanet('destination_4'),dropdownId:\"destination_4\",revealnextBox:revealnextBox,revealSpaceOptions:revealSpaceOptions,allplanets:planets,selectItem:selectItem,id:\"4\"})]})}),/*#__PURE__*/_jsx(Calulate,{selectedVehicle:selectedVehicle,selectedPlanet:selectedPlanet,vehicles:vehicles,planets:planets,setFinaltime:setFinaltime}),/*#__PURE__*/_jsx(\"div\",{className:\"missioncontroll_form\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"fiding-form\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-control hidden\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"destination\",children:\"placeholder\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",\"data-finding-form-value\":true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",value:\"Find Falcone!\",className:\"btn btn-big\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Find Falcone!\"})})]})})]}):'no data to show':/*#__PURE__*/ // on success\n_jsxs(\"div\",{className:\"successbox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"successbox-top\",children:/*#__PURE__*/_jsx(\"h3\",{children:successMSG})}),/*#__PURE__*/_jsxs(\"div\",{className:\"successbox-bottom\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Time taken : \",finalTime]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Planet found : \",planetFound]}),/*#__PURE__*/_jsx(\"button\",{onClick:onReset,className:\"btn-big\",children:\"Start Again\"})]})]})]});}export default App;","map":{"version":3,"sources":["/Users/meiliizzsuju/Documents/shippit/finding-falcone2/src/App.js"],"names":["$","React","useState","useEffect","logo","PlanetDropdown","Calulate","App","planets","setPlanet","vehicles","setVehicle","selectedPlanet","setSelectedPlanet","selectedVehicle","setSelectedVehicle","vehicleByDestination","setVehicleByDestination","submitStatus","setSubmitStatus","finalTime","setFinaltime","planetFound","setPlanetFound","planetURL","vehicleURL","successMSG","getPlanets","fetchData","dataPlanet","console","log","getVehicles","dataVehicle","vList","filterVihicle","createVehicleByDestinationList","data","VbyDdata","VbyD","desno","url","fetch","response","json","getFilteredPlanets","name","removedItems","removedItemsList","Object","values","filter","item","includes","list","finalList","forEach","v","indexOf","push","getPlanet","onSubmit","e","planet_names","vehicle_names","preventDefault","method","headers","body","JSON","stringify","res","status","planet_name","revealSpaceOptions","containerID","dataEle","dataradioWrapper","thisContainer","closest","thisradio","children","addClass","revealnextBox","nextContainer","next","selectItem","value","selectVehicle","onSelectedVehicle","onReset","window","location","reload","length"],"mappings":"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","sourcesContent":["import $ from 'jquery';\nimport React, { useState, useEffect } from 'react';\nimport logo from './logo.svg';\nimport './App.scss';\nimport PlanetDropdown from './components/PlanetDropdown'\nimport Calulate from './components/Calculate'\n\nfunction App() {\n  const [planets, setPlanet] = useState([]);\n  const [vehicles, setVehicle] = useState([]);\n  const [selectedPlanet, setSelectedPlanet] = useState([]);\n  const [selectedVehicle, setSelectedVehicle] = useState([]);\n  const [vehicleByDestination, setVehicleByDestination] = useState([]);\n  const [submitStatus, setSubmitStatus] = useState('start');\n  const [finalTime, setFinaltime] = useState(0);\n  const [planetFound, setPlanetFound] = useState(0);\n  const planetURL = 'https://5f5ff7f790cf8d00165573ed.mockapi.io/planets';\n  const vehicleURL = 'https://5f5ff7f790cf8d00165573ed.mockapi.io/vehicles';\n  const successMSG = 'Success! Congrats on Finding Falcone. King Shan is mighty pleased.';\n\n  useEffect(() => {\n    const getPlanets = async () => {\n      const dataPlanet = await fetchData(planetURL);\n      console.log(dataPlanet)\n      setPlanet(dataPlanet);\n    }\n\n    const getVehicles = async () => {\n      const dataVehicle = await fetchData(vehicleURL);\n      const vList = filterVihicle(dataVehicle);\n      setVehicle(vList);\n    }\n\n    const createVehicleByDestinationList = async () =>{\n      const data = await fetchData(vehicleURL);\n      const VbyDdata = filterVihicle(data);\n      const VbyD = [\n        {desno: 'destination_1', data:{VbyDdata}},\n        {desno: 'destination_2', data:{VbyDdata}},\n        {desno: 'destination_3', data:{VbyDdata}},\n        {desno: 'destination_4', data:{VbyDdata}},\n      ]\n      setVehicleByDestination(VbyD);\n    }\n\n\n    getPlanets();\n    getVehicles();\n    createVehicleByDestinationList();\n    console.log('start')\n  }, []);\n\n\n  // Fetch data from url\n  const fetchData = async (url) => {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data\n  }\n\n  // filter option from dropdown\n  const getFilteredPlanets = (name) => {\n    const removedItems = { ...selectedPlanet};\n    delete removedItems[name];\n    const removedItemsList = Object.values(removedItems);\n    return planets.filter(item => {\n      return !removedItemsList.includes(item.name);\n    });\n  }\n\n  const filterVihicle = (list) =>{\n    let finalList = [];\n    list.forEach((v) => {\n      let name = v.name;\n      if(name.indexOf('NaN') <=0){\n        finalList.push(v)\n      }\n    })\n    return finalList;\n  }\n\n  const getPlanet = (name) => {\n    return selectedPlanet[name];\n  }\n\n  const onSubmit = async (e) => {\n    let planet_names = Object.values(selectedPlanet);\n    let vehicle_names = Object.values(selectedVehicle);\n    e.preventDefault()\n    const res = await fetch(`https://5f5ff7f790cf8d00165573ed.mockapi.io/find`, {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json',\n      },\n      body: JSON.stringify({\n        planet_names:planet_names,\n        vehicle_names:vehicle_names\n      }),\n    })\n\n    const data = await res.json()\n\n    // if success\n    if(data.status === 'success'){\n      setSubmitStatus(data.status);\n      setPlanetFound(data.planet_name);\n    }\n\n\n    \n    console.log(\"onSubmit\")\n    console.log(planet_names)\n    console.log(vehicle_names)\n    console.log(data)\n    console.log(\"submitStatus\")\n    console.log(submitStatus)\n  }\n\n  const revealSpaceOptions = (containerID,e) => {\n    let dataEle = '[data-destination-container]';\n    let dataradioWrapper = '[data-radio-wrapper]';\n    let thisContainer =  $(e).closest(dataEle);\n    let thisradio = thisContainer.children(dataradioWrapper);\n\n    thisradio.addClass('reveal');\n  }\n\n  // on select show the next box\n  const revealnextBox = (containerID,e) => {\n    let dataEle = '[data-destination-container]';\n    let thisContainer =  $(e).closest(dataEle);\n    let nextContainer = thisContainer.next(dataEle);\n\n    // adding reveal class to the box next to selected box\n    nextContainer.addClass('reveal');\n  }\n\n\n  const selectItem = (containerID, value) => {\n    console.log(\"selectItem : \" + containerID + \" and \" + value)\n    setSelectedPlanet({\n      ...selectedPlanet,\n      [containerID]: value\n    });\n\n  };\n\n\n  const selectVehicle = (containerID, value, e) => {\n    console.log('selectVehicle : '+containerID+ ' : '+value);\n    setSelectedVehicle({\n      ...selectedVehicle,\n      [containerID]: value\n    })\n  };\n\n  const onSelectedVehicle = () =>{\n    console.log('findAvialShip');\n  }\n\n\n  const onReset = () =>{\n    window.location.reload(false);\n    // setPlanet([])\n    // setVehicle([])\n    // setSelectedPlanet([])\n    // setSelectedVehicle([])\n    // setVehicleByDestination([])\n    \n    /*\n    setSelectedPlanet('');\n    setSelectedVehicle('');\n\n    // hide all the boxes \n    let dataradioWrapper = $('[data-radio-wrapper]');\n    let destinationWrapper = $('[data-destination-container]');\n    dataradioWrapper.removeClass('reveal');\n    destinationWrapper.not('[data-destination-container]:first-child').removeClass('reveal');\n\n\n\n    // clear dropdowns\n    let dropdowns = destinationWrapper.find('.dropdown');\n    console.log(\"dropdowns\")\n    console.log(dropdowns)\n    $('[data-destination-container] .dropdown').selectedIndex = 0;\n    */\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Finding Falcone</h1>\n\n        <div className=\"top-nav\">\n          <button onClick={onReset}>reset</button>\n        </div>\n      </header>\n        {\n          (submitStatus !== 'success') ? (\n            (planets.length > 0 && vehicles.length > 0 && vehicleByDestination.length >0) ? (\n              <div className=\"missioncontroll\">\n                <p>Select planets you want to search in:</p>\n                <div className=\"missioncontroll_container\">\n    \n                        \n                          <React.Fragment>\n                          <PlanetDropdown\n                            name='destination_1'\n                            vehicles={vehicles}\n                            selectedVehicle={selectedVehicle}\n                            selectVehicle={ selectVehicle}\n                            VbyD={vehicleByDestination}\n                            setVbyD={setVehicleByDestination}\n                            planets={getFilteredPlanets('destination_1')}\n                            value={getPlanet('destination_1')}\n                            dropdownId='destination_1'\n                            revealnextBox={revealnextBox}\n                            revealSpaceOptions={revealSpaceOptions}\n                            allplanets={planets}\n                            selectItem={selectItem} id='1'\n                            reveal={true} // show first box on load\n                            />\n                          <PlanetDropdown\n                            name='destination_2'\n                            vehicles={vehicles}\n                            selectedVehicle={selectedVehicle}\n                            selectVehicle={ selectVehicle}\n                            VbyD={vehicleByDestination}\n                            setVbyD={setVehicleByDestination}\n                            planets={getFilteredPlanets('destination_2')}\n                            value={getPlanet('destination_2')}\n                            dropdownId='destination_2'\n                            revealnextBox={revealnextBox}\n                            revealSpaceOptions={revealSpaceOptions}\n                            allplanets={planets}\n                            selectItem={selectItem} id='2'/>\n                          <PlanetDropdown\n                            name='destination_3'\n                            vehicles={vehicles}\n                            vehiclesAvail={vehicles}\n                            selectedVehicle={selectedVehicle}\n                            selectVehicle={ selectVehicle}\n                            VbyD={vehicleByDestination}\n                            setVbyD={setVehicleByDestination}\n                            planets={getFilteredPlanets('destination_3')}\n                            value={getPlanet('destination_3')}\n                            dropdownId='destination_3'\n                            revealnextBox={revealnextBox}\n                            revealSpaceOptions={revealSpaceOptions}\n                            allplanets={planets}\n                            selectItem={selectItem} id='3'/>\n                          <PlanetDropdown\n                            name='destination_4'\n                            vehicles={vehicles}\n                            selectedVehicle={selectedVehicle}\n                            selectVehicle={ selectVehicle}\n                            VbyD={vehicleByDestination}\n                            setVbyD={setVehicleByDestination}\n                            planets={getFilteredPlanets('destination_4')}\n                            value={getPlanet('destination_4')}\n                            dropdownId='destination_4'\n                            revealnextBox={revealnextBox}\n                            revealSpaceOptions={revealSpaceOptions}\n                            allplanets={planets}\n                            selectItem={selectItem} id='4'/>\n                          </React.Fragment>\n            \n                      \n                  \n                </div>\n                        \n                <Calulate selectedVehicle={selectedVehicle} \n                  selectedPlanet={selectedPlanet}\n                  vehicles={vehicles} planets={planets}\n                  setFinaltime={setFinaltime}\n                ></Calulate>\n    \n                <div className=\"missioncontroll_form\">\n                  <form className='fiding-form' onSubmit={onSubmit}>\n                    <div className='form-control hidden'>\n                      <label htmlFor=\"destination\">placeholder</label>\n                      <input type=\"text\" data-finding-form-value/>\n                    </div>\n                    <button type=\"submit\" value=\"Find Falcone!\" className='btn btn-big'>\n                      <span>Find Falcone!</span>\n                    </button>\n                  </form>\n                </div>\n              </div>\n    \n              ) : (\n                'no data to show'\n              )\n          ) : (\n            // on success\n            <div className='successbox'>\n              <div className='successbox-top'>\n                <h3>{successMSG}</h3>\n              </div>\n              <div className='successbox-bottom'>\n                <span>Time taken : {finalTime}</span>\n                <span>Planet found : {planetFound}</span>\n                <button onClick={onReset} className=\"btn-big\">Start Again</button>\n              </div>\n            </div>\n          )\n        }\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}