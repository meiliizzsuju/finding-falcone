{"ast":null,"code":"import _objectSpread from\"/Users/meiliizzsuju/Documents/shippit/finding-falcone2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/meiliizzsuju/Documents/shippit/finding-falcone2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/meiliizzsuju/Documents/shippit/finding-falcone2/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/meiliizzsuju/Documents/shippit/finding-falcone2/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/meiliizzsuju/Documents/shippit/finding-falcone2/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import $ from'jquery';import React from'react';import{Fragment}from'react/cjs/react.production.min';import VehicleRadio from'../components/VehicleRadio';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var PlanetDropdown=/*#__PURE__*/function(_React$Component){_inherits(PlanetDropdown,_React$Component);var _super=_createSuper(PlanetDropdown);function PlanetDropdown(props){var _this;_classCallCheck(this,PlanetDropdown);_this=_super.call(this,props);_this.disableSpaceOption=function(i,e){var thisContainer=$(e.target).parents('[data-destination-container]');var thisRadioBox=$(thisContainer).find('[data-radio-checkbox]');var radioswrapper=$(thisRadioBox).find('fieldset');var radios=$(radioswrapper).find('[data-distance]');var noAvailClass='not-avail';$(radios).removeClass(noAvailClass);var planetData=_this.props.allplanets.filter(function(obj){return obj.name===i;});// if space ship max distance < planetData.distance : hide the space ship\nfor(var r=0;r<radios.length;r++){var spaceDistance=$(radios[r]).data('distance');if(parseInt(spaceDistance)<parseInt(planetData[0].distance)){$(radios[r]).addClass(noAvailClass);}}};_this.onSelectPlanet=function(event){_this.props.selectItem(_this.props.name,event.target.value);_this.props.revealSpaceOptions(_this.props.dropdownId,event.target);_this.disableSpaceOption(event.target.value,event);};_this.onSelectVehicles=function(event){console.log(\"onSelectVehicles\");_this.props.selectVehicle(_this.props.name,event.target.value,event.target);_this.props.revealnextBox(_this.props.dropdownId,event.target);};_this.getFilteredVehicles=function(name){console.log('getFilteredVehicles');var targetListdata;// loop per destination box\n_this.props.VbyD.forEach(function(obItem){if(obItem.desno.toLowerCase()===name.toLowerCase()){var selectedItems=_objectSpread({},_this.props.selectedVehicle);var selectedItemsList=Object.values(selectedItems);var selectedKeyItemsList=Object.keys(selectedItems);if(selectedItemsList.length>0){return selectedKeyItemsList.forEach(function(selectedKey){if(obItem.desno.toLowerCase()===selectedKey.toLowerCase()){return obItem.data.VbyDdata.forEach(function(shipData){if(shipData.name.toLowerCase()===selectedItems[selectedKey].toLowerCase()){if(_this.updatedState.length===0){var updatestate={};updatestate.name=shipData.name.toLowerCase();updatestate.updated=true;_this.updatedState.push(updatestate);_this.setState(updatestate);shipData.total_no=shipData.total_no-1;return;}}});}});}}return targetListdata=Object(obItem.data.VbyDdata);});return targetListdata;};_this.reveal=_this.props.reveal?'reveal':'';_this.containerClass='destination-box'+' '+_this.reveal;// spacing for classname\n_this.selectClass='destination_dropdown_'+_this.props.id;_this.updatedState=[];console.log(\"check this\");console.log('this.props.selectedPlanet');console.log(_this.props.selectedPlanet);return _this;}// hide space that cant reac to the planet\n_createClass(PlanetDropdown,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:this.containerClass,id:'destination_'+this.props.id,\"data-destination-container\":true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"destination-box_top\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"destination-box_top_title\",children:[\"Destination \",this.props.id]}),/*#__PURE__*/_jsx(\"div\",{className:\"destination-box_dropdown\",children:/*#__PURE__*/_jsxs(\"select\",{id:this.selectClass,onChange:this.onSelectPlanet,value:this.props.value,className:\"dropdown\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"Choose from the option\"}),this.props.planets.map(function(planet,index){return/*#__PURE__*/_jsx(\"option\",{value:planet.name,distance:planet.distance,index:index,children:planet.name},index);})]})})]}),this.props.vehicles.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"destination-box_bottom\",\"data-radio-wrapper\":true,children:/*#__PURE__*/_jsx(\"div\",{className:\"vehicles\",\"data-type\":\"vehicles-checkbox\",\"data-radio-checkbox\":true,id:'vehicles_'+this.props.id,children:/*#__PURE__*/_jsx(\"fieldset\",{id:'vehicles_group_'+this.props.id,onChange:this.onSelectVehicles,children:this.getFilteredVehicles(this.props.name).map(function(vehicle,index){return/*#__PURE__*/_jsx(VehicleRadio,{vehicle:vehicle,groupid:'vehicles_group_'+_this2.props.id,name:_this2.props.name,index:index,id:index+1},index);})})})}):'No vehicle data']})});}}]);return PlanetDropdown;}(React.Component);export{PlanetDropdown as default};","map":{"version":3,"sources":["/Users/meiliizzsuju/Documents/shippit/finding-falcone2/src/components/PlanetDropdown.js"],"names":["$","React","Fragment","VehicleRadio","PlanetDropdown","props","disableSpaceOption","i","e","thisContainer","target","parents","thisRadioBox","find","radioswrapper","radios","noAvailClass","removeClass","planetData","allplanets","filter","obj","name","r","length","spaceDistance","data","parseInt","distance","addClass","onSelectPlanet","event","selectItem","value","revealSpaceOptions","dropdownId","onSelectVehicles","console","log","selectVehicle","revealnextBox","getFilteredVehicles","targetListdata","VbyD","forEach","obItem","desno","toLowerCase","selectedItems","selectedVehicle","selectedItemsList","Object","values","selectedKeyItemsList","keys","selectedKey","VbyDdata","shipData","updatedState","updatestate","updated","push","setState","total_no","reveal","containerClass","selectClass","id","selectedPlanet","planets","map","planet","index","vehicles","vehicle","Component"],"mappings":"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","sourcesContent":["import $ from 'jquery';\nimport React from 'react'\nimport { Fragment } from 'react/cjs/react.production.min';\nimport VehicleRadio from '../components/VehicleRadio'\n\nexport default class PlanetDropdown extends React.Component {\n  constructor(props) {\n    super(props);\n    this.reveal = (this.props.reveal) ? ('reveal') : ('');\n    this.containerClass = 'destination-box' + ' '+this.reveal; // spacing for classname\n    this.selectClass = 'destination_dropdown_'+this.props.id;\n    this.updatedState = [];\n    console.log(\"check this\")\n    console.log('this.props.selectedPlanet')\n    console.log(this.props.selectedPlanet)\n  }\n\n\n  // hide space that cant reac to the planet\n  disableSpaceOption = (i,e) => {\n    let thisContainer = $(e.target).parents('[data-destination-container]');\n    let thisRadioBox = $(thisContainer).find('[data-radio-checkbox]');\n    let radioswrapper = $(thisRadioBox).find('fieldset');\n    let radios = $(radioswrapper).find('[data-distance]');\n\n    let noAvailClass = 'not-avail';\n    $(radios).removeClass(noAvailClass);\n\n\n    let planetData = this.props.allplanets.filter(obj => {\n      return obj.name === i\n    })\n\n\n    // if space ship max distance < planetData.distance : hide the space ship\n    for(let r =0; r < radios.length; r++){\n      var spaceDistance = $(radios[r]).data('distance');\n      if(parseInt(spaceDistance) < parseInt(planetData[0].distance)){\n        $(radios[r]).addClass(noAvailClass);\n      }\n    }\n  }\n\n  onSelectPlanet = event => {\n    this.props.selectItem(this.props.name, event.target.value);\n    this.props.revealSpaceOptions(this.props.dropdownId, event.target);\n    this.disableSpaceOption(event.target.value,event);\n  };\n\n  onSelectVehicles = event => {\n    console.log(\"onSelectVehicles\")\n    this.props.selectVehicle(this.props.name,event.target.value, event.target);\n    this.props.revealnextBox(this.props.dropdownId, event.target);\n  }\n\n  // filter radio option\n  getFilteredVehicles = (name) => {\n     console.log('getFilteredVehicles');\n    let targetListdata;\n    // loop per destination box\n    this.props.VbyD.forEach((obItem) => {\n      if(obItem.desno.toLowerCase() === name.toLowerCase()){\n        let selectedItems = { ...this.props.selectedVehicle};\n        let selectedItemsList = Object.values(selectedItems);\n        let selectedKeyItemsList = Object.keys(selectedItems);\n\n        if(selectedItemsList.length >0){\n          return selectedKeyItemsList.forEach((selectedKey) =>{\n            if(obItem.desno.toLowerCase() === selectedKey.toLowerCase()){\n              return obItem.data.VbyDdata.forEach( (shipData) => {\n                if(shipData.name.toLowerCase() === selectedItems[selectedKey].toLowerCase()){\n                  if(this.updatedState.length === 0){\n                    let updatestate = {}\n                    updatestate.name = shipData.name.toLowerCase();\n                    updatestate.updated = true; \n                    this.updatedState.push(updatestate)\n                    this.setState(updatestate);\n                    shipData.total_no = shipData.total_no-1;\n                    return;\n                  }\n                }\n              })\n            }\n          })\n        }\n\n\n      } \n      return targetListdata = Object(obItem.data.VbyDdata);\n    });\n\n    return targetListdata\n  }\n\n  render() {\n    return (\n      <Fragment>\n      <div className={this.containerClass} id={'destination_'+this.props.id}\n        data-destination-container\n      >\n        <div className=\"destination-box_top\">\n          <span className=\"destination-box_top_title\">\n            Destination { this.props.id }\n          </span>\n          <div className=\"destination-box_dropdown\" >\n            <select id={this.selectClass} onChange={this.onSelectPlanet} value={this.props.value}\n              className='dropdown'\n            >\n              <option value='0'>Choose from the option</option>\n              {\n                this.props.planets.map((planet,index) => { \n                  return <option value={planet.name}\n                              key={index}\n                              distance={planet.distance}\n                              index={index} \n                            >\n                                {planet.name}\n                            </option>\n                })\n              }\n              </select>\n          </div>\n        </div>\n        {\n          (this.props.vehicles.length > 0 ) ? (\n            <div className=\"destination-box_bottom\" data-radio-wrapper>\n              <div className=\"vehicles\" data-type=\"vehicles-checkbox\" data-radio-checkbox id={'vehicles_'+this.props.id}>\n                <fieldset id={'vehicles_group_'+this.props.id} onChange={this.onSelectVehicles}>\n                {\n                  this.getFilteredVehicles(this.props.name).map((vehicle,index)=>{\n                    return <VehicleRadio vehicle={vehicle} \n                      groupid={'vehicles_group_'+this.props.id}\n                      name={this.props.name}\n                      index={index} id={index+1} key={index} \n                      ></VehicleRadio>\n                  })\n                }\n                </fieldset>\n              </div>\n            </div>\n          ) : (\n            'No vehicle data'\n          )\n        }\n      </div>   \n      </Fragment>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}